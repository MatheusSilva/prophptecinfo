"use strict";class Ajax{static createXHR(){var xhr=!1;try{xhr=new XMLHttpRequest()}catch(trymicrosoft){try{xhr=new ActiveXObject("Msxml2.XMLHTTP")}catch(othermicrosoft){try{xhr=new ActiveXObject("Microsoft.XMLHTTP")}catch(failed){xhr=!1}}}
if(!xhr){alert("Error initializing XMLHttpRequest!")}else{return xhr}}};class Login{static createCookie(name,value,days){var expires;if(days){var date=new Date();date.setTime(date.getTime()+(days*24*60*60*1000));expires="; expires="+date.toGMTString()}else{expires=""}
document.cookie=name+"="+value+expires+"; path=/"}
static getCookie(c_name){if(document.cookie.length>0){var c_start=document.cookie.indexOf(c_name+"=");if(c_start!=-1){c_start=c_start+c_name.length+1;var c_end=document.cookie.indexOf(";",c_start);if(c_end==-1){c_end=document.cookie.length}
return unescape(document.cookie.substring(c_start,c_end))}}
return ""}
static valida(){var strErro="";var usuario=document.getElementById("txtTorcedor").value;var senha=document.getElementById("txtSenha").value;if(usuario===""){strErro=strErro+"\nVoce Nao Preencheu o Login"}
if(senha===""){strErro=strErro+"\nVoce Nao Preencheu a Senha"}
if(strErro!==""){alert(strErro);return !1}}};class Categoria{static consultar(form){var pesquisa='';if(form!=null&&form.txtNome.value!=undefined){pesquisa=form.txtNome.value}
var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/categoria/index.php?a=3",!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var table=document.getElementById("tabela");table.innerHTML="";var len=0;if(json.categorias!=null){len=json.categorias.length}
var temRegistro=!1;var strHTML='<table width="80%" class="lista">'+'<tr class="primeira_linha">'+'<td>C&oacute;digo</td>'+'<td>Nome</td>'+'<td>A&ccedil;&otilde;es</td>'+'</tr>';for(var i=0;i<len;i++){var codigo=json.categorias[i].codigo_categoria;var nome=json.categorias[i].nome;if(i%2==0){strHTML=strHTML+'<tr class="linha_par">'}else{strHTML=strHTML+'<tr class="linha_impar">'}
var detalhes="<a href=\"../consultas/detalhe.categoria.htm?codigo="+codigo+"\">[D]</a>";var alterar="<a href=\"../formularios/alterar.categoria.htm?codigo="+codigo+"\">[A]</a>";var excluir="<a href=\"javascript:Categoria.confirmar("+codigo+")\">[X]</a>";var acao=detalhes+alterar+excluir;strHTML=strHTML+"<td>"+codigo+"</td>"+"<td>"+nome+"</td>"+"<td>"+acao+"</td>"+"</tr>";temRegistro=!0}
if(temRegistro==!1){strHTML=json.mensagem}
strHTML=strHTML+"</table>";table.innerHTML=strHTML}}
xhr.send("p="+pesquisa)}}
static formToJSON(form){var codigo="";if(form.codigo!=undefined){codigo=form.codigo.value}
return JSON.stringify({"codigo":codigo,"txtNome":form.txtNome.value})}
static confirmar(codigo){var xhr=Ajax.createXHR();var ok=window.confirm("Voce tem certeza que deseja excluir?");if(ok){document.getElementById("ajax-loader").style.display='block';var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/categoria/index.php?a=6"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'&&xhr.status=='200'){document.getElementById("ajax-loader").style.display='none';location.reload();var json=JSON.parse(xhr.responseText);alert(json.mensagem)}}
xhr.send()}else{alert(mensagem)}}}
static cadastrar(form){document.getElementById("mensagem").innerHTML="<br /><b>Aguarde...</b>";var xhr=Ajax.createXHR();var mensagem="";if(form.txtNome.value==""){mensagem+="<br /><b>Você não preencheu a categoria</b>"}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/categoria/index.php?a=4"+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'&&xhr.status=='200'){document.getElementById("txtNome").value="";var json=JSON.parse(xhr.responseText);document.getElementById("mensagem").innerHTML=json.mensagem}}
xhr.send(Categoria.formToJSON(form))}else{document.getElementById("mensagem").innerHTML=mensagem}}
static atualizar(form){document.getElementById("mensagem").innerHTML="<br /><b>Aguarde...</b>";var xhr=Ajax.createXHR();var codigo=form.codigo.value;var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
if(document.getElementById("txtNome").value==""){mensagem+="<br /><b>Você não preencheu a Categoria</b>"}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/categoria/index.php?a=5"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'&&xhr.status=='200'){var json=JSON.parse(xhr.responseText);document.getElementById("mensagem").innerHTML=json.mensagem}}
xhr.send(Categoria.formToJSON(form))}else{document.getElementById("mensagem").innerHTML=mensagem}}};class Divisao{static consultar(form){var pesquisa='';if(form!=null&&form.txtNome.value!=undefined){pesquisa=form.txtNome.value}
var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/divisao/index.php?a=3",!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var table=document.getElementById("tabela");table.innerHTML="";var len=0;if(json.divisaos!=null){len=json.divisaos.length}
var temRegistro=!1;var strHTML='<table width="80%" class="lista">'+'<tr class="primeira_linha">'+'<td>C&oacute;digo</td>'+'<td>Nome</td>'+'<td>A&ccedil;&otilde;es</td>'+'</tr>';for(var i=0;i<len;i++){var codigo=json.divisaos[i].codigo_divisao;var nome=json.divisaos[i].nome;if(i%2==0){strHTML=strHTML+'<tr class="linha_par">'}else{strHTML=strHTML+'<tr class="linha_impar">'}
var detalhes="<a href=\"../consultas/detalhe.divisao.htm?codigo="+codigo+"\">[D]</a>";var alterar="<a href=\"../formularios/alterar.divisao.htm?codigo="+codigo+"\">[A]</a>";var excluir="<a href=\"javascript:Divisao.confirmar("+codigo+")\">[X]</a>";var acao=detalhes+alterar+excluir;strHTML=strHTML+"<td>"+codigo+"</td>"+"<td>"+nome+"</td>"+"<td>"+acao+"</td>"+"</tr>";temRegistro=!0}
if(temRegistro==!1){strHTML=json.mensagem}
strHTML=strHTML+"</table>";table.innerHTML=strHTML}}
xhr.send("p="+pesquisa)}}
static formToJSON(form){var codigo="";if(form.codigo!=undefined){codigo=form.codigo.value}
return JSON.stringify({"codigo":codigo,"txtNome":form.txtNome.value})}
static confirmar(codigo){var xhr=Ajax.createXHR();var ok=window.confirm("Voce tem certeza que deseja excluir?");if(ok&&xhr!=undefined){var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""){xhr.open("GET","http://localhost/sistemaRest/api/v1/divisao/index.php?a=6"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);alert(json.mensagem);location.reload()}}
xhr.send()}else{alert(mensagem)}}}
static cadastrar(form){document.getElementById("mensagem").innerHTML="<br /><b>Aguarde...</b>";var xhr=Ajax.createXHR();var mensagem="";if(form.txtNome.value==""){mensagem+="<br /><b>Você não preencheu a divisao</b>"}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/divisao/index.php?a=4"+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'&&xhr.status=='200'){document.getElementById("txtNome").value="";var json=JSON.parse(xhr.responseText);document.getElementById("mensagem").innerHTML=json.mensagem}}
xhr.send(Divisao.formToJSON(form))}else{document.getElementById("mensagem").innerHTML=mensagem}}
static atualizar(form){document.getElementById("mensagem").innerHTML="<br /><b>Aguarde...</b>";var xhr=Ajax.createXHR();var codigo=document.getElementById("codigo").value;var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
if(document.getElementById("txtNome").value==""){mensagem+="<br /><b>Você não preencheu a divisao</b>"}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/divisao/index.php?a=5"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'&&xhr.status=='200'){var json=JSON.parse(xhr.responseText);document.getElementById("mensagem").innerHTML="<br /><b>"+json.mensagem+"</b>"}}
xhr.send(Divisao.formToJSON(form))}else{document.getElementById("mensagem").innerHTML=mensagem}}};class Tecnico{static valida(){var strErro='';if(document.getElementById("txtNome").value==""){strErro=strErro+"\nVoce Nao Preencheu o Nome"}
if(document.getElementById("cmbDia").value=="Dia"){strErro=strErro+"\nVoce Nao Preencheu o Dia"}
if(document.getElementById("cmbMes").value=="Mes"){strErro=strErro+"\nVoce Nao Preencheu o Mes"}
if(document.getElementById("cmbAno").value=="Ano"){strErro=strErro+"\nVoce Nao Preencheu o Ano"}
if(document.getElementById("cmbDia").value=="31"){if(document.getElementById("cmbMes").value=="04"||document.getElementById("cmbMes").value=="06"||document.getElementById("cmbMes").value=="09"||document.getElementById("cmbMes").value=="11"){strErro=strErro+"\no Mes que voce escolheu nao possui mais de 30 dias"}}
if((document.getElementById("cmbDia").value=="29")&&(document.getElementById("cmbMes").value=="02")){if((document.getElementById("cmbAno").value%4!="0")||(document.getElementById("cmbAno").value%100!="0")||(document.getElementById("cmbAno").value%400!="0")){strErro=strErro+"\nEste ano nao e bissexto"}}
if((document.getElementById("cmbDia").value=="30")||(document.getElementById("cmbDia").value=="31")&&(document.getElementById("cmbMes").value=="02")){strErro=strErro+"\nfevereiro nao tem mais que 29 dias"}
if(strErro!=""){alert(strErro);return !1}}
static consultar(form){var pesquisa='';if(form!=null&&form.txtNome.value!=undefined){pesquisa=form.txtNome.value}
var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/tecnico/index.php?a=3",!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var table=document.getElementById("tabela");table.innerHTML="";var len=0;if(json.tecnicos!=null){len=json.tecnicos.length}
var temRegistro=!1;var strHTML='<table width="80%" class="lista">'+'<tr class="primeira_linha">'+'<td>C&oacute;digo</td>'+'<td>Nome</td>'+'<td>A&ccedil;&otilde;es</td>'+'</tr>';for(var i=0;i<len;i++){var codigo=json.tecnicos[i].codigo_tecnico;var nome=json.tecnicos[i].nome;if(i%2==0){strHTML=strHTML+'<tr class="linha_par">'}else{strHTML=strHTML+'<tr class="linha_impar">'}
var detalhes="<a href=\"../consultas/detalhe.tecnico.htm?codigo="+codigo+"\">[D]</a>";var alterar="<a href=\"../formularios/alterar.tecnico.htm?codigo="+codigo+"\">[A]</a>";var excluir="<a href=\"javascript:Tecnico.confirmar("+codigo+")\">[X]</a>";var acao=detalhes+alterar+excluir;strHTML=strHTML+"<td>"+codigo+"</td>"+"<td>"+nome+"</td>"+"<td>"+acao+"</td>"+"</tr>";temRegistro=!0}
if(temRegistro==!1){strHTML=json.mensagem}
strHTML=strHTML+"</table>";table.innerHTML=strHTML}}
xhr.send("p="+pesquisa)}}
static formToJSON(form){var codigo='';var txtNome='';var cmbDia='';var cmbMes='';var cmbAno='';if(form.codigo!=undefined){codigo=form.codigo.value}
if(form.txtNome!=undefined){txtNome=form.txtNome.value}
if(form.cmbDia!=undefined){cmbDia=form.cmbDia.options[form.cmbDia.selectedIndex].value}
if(form.cmbMes!=undefined){cmbMes=form.cmbMes.options[form.cmbMes.selectedIndex].value}
if(form.cmbAno!=undefined){cmbAno=form.cmbAno.options[form.cmbAno.selectedIndex].value}
return JSON.stringify({"codigo":codigo,"cmbDia":cmbDia,"cmbMes":cmbMes,"cmbAno":cmbAno,"txtNome":txtNome})}
static confirmar(codigo){var xhr=Ajax.createXHR();var ok=window.confirm("Voce tem certeza que deseja excluir?");if(ok&&xhr!=undefined){var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""){xhr.open("GET","http://localhost/sistemaRest/api/v1/tecnico/index.php?a=6"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);alert(json.mensagem);location.reload()}}
xhr.send()}else{alert(mensagem)}}}
static cadastrar(form){document.getElementById("mensagem").innerHTML="<br /><b>Aguarde...</b>";var xhr=Ajax.createXHR();if(Tecnico.valida()==!1){return !1}
var mensagem="";if(form.txtNome.value==""){mensagem+="<br /><b>Você não preencheu a tecnico</b>"}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/tecnico/index.php?a=4"+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){document.getElementById("txtNome").value="";var json=JSON.parse(xhr.responseText);document.getElementById("mensagem").innerHTML="<br /><b>"+json.mensagem+"</b>"}}
xhr.send(Tecnico.formToJSON(form))}else{document.getElementById("mensagem").innerHTML=mensagem}}
static atualizar(form){document.getElementById("mensagem").innerHTML="<br /><b>Aguarde...</b>";var xhr=Ajax.createXHR();var codigo=form.codigo.value;var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
if(form.txtNome.value==""){mensagem+="<br /><b>Você não preencheu a tecnico</b>"}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
if(mensagem==""&&xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/tecnico/index.php?a=5"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'&&xhr.status=='200'){var json=JSON.parse(xhr.responseText);document.getElementById("mensagem").innerHTML="<br /><b>"+json.mensagem+"</b>"}}
xhr.send(Tecnico.formToJSON(form))}else{document.getElementById("mensagem").innerHTML=mensagem}}};class Time{static valida(form){var strErro="";if(document.getElementById("txtNome").value==""){strErro=strErro+"\nVoce Nao Preencheu o Nome"}
if(document.getElementById("txtFoto").value==""){strErro=strErro+"\nVoce Nao selecionou uma foto"}
if(strErro!=""){alert(strErro);return !1}}
static limpacamposCadastro(){document.getElementById("txtFoto").value='';document.getElementById("txtNome").value='';document.getElementById("cmbDivisao").options.length=0;document.getElementById("cmbCategoria").options.length=0;document.getElementById("cmbTecnico").options.length=0;var rDesempenhotime=document.getElementsByName("rDesempenhotime");rDesempenhotime[0].checked=!0;var rComprarnovojogador=document.getElementsByName("rComprarnovojogador");rComprarnovojogador[0].checked=!0}
static consultar(form){var pesquisa='';if(form!=null&&form.txtNome.value!=undefined){pesquisa=form.txtNome.value}
var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/time/index.php?a=2",!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var table=document.getElementById("tabela");table.innerHTML="";var len=0;if(json.times!=null){len=json.times.length}
var temRegistro=!1;var strHTML='<table width="80%" class="lista">'+'<tr class="primeira_linha">'+'<td>C&oacute;digo</td>'+'<td>Nome</td>'+'<td>A&ccedil;&otilde;es</td>'+'</tr>';for(var i=0;i<len;i++){var codigo=json.times[i].codigo;var nome=json.times[i].nome;if(i%2==0){strHTML=strHTML+'<tr class="linha_par">'}else{strHTML=strHTML+'<tr class="linha_impar">'}
var detalhes="<a href=\"../consultas/detalhe.time.htm?codigo="+codigo+"\">[D]</a>";var alterar="<a href=\"../formularios/alterar.time.htm?codigo="+codigo+"\">[A]</a>";var excluir="<a href=\"javascript:Time.confirmar("+codigo+")\">[X]</a>";var acao=detalhes+alterar+excluir;strHTML=strHTML+"<td>"+codigo+"</td>"+"<td>"+nome+"</td>"+"<td>"+acao+"</td>"+"</tr>";temRegistro=!0}
if(temRegistro==!1){strHTML=json.mensagem}
strHTML=strHTML+"</table>";table.innerHTML=strHTML}}
xhr.send("p="+pesquisa)}}
static cadastrar(form){if(Time.valida()==!1){return !1}
var jForm=new FormData();var e=document.getElementById("cmbDivisao");var cmbDivisao=e.options[e.selectedIndex].value;var e=document.getElementById("cmbCategoria");var cmbCategoria=e.options[e.selectedIndex].value;var e=document.getElementById("cmbTecnico");var cmbTecnico=e.options[e.selectedIndex].value;jForm.append("txtFoto",jQuery('#txtFoto').get(0).files[0]);jForm.append("txtNome",document.getElementById("txtNome").value);jForm.append("cmbDivisao",cmbDivisao);jForm.append("cmbCategoria",cmbCategoria);jForm.append("cmbTecnico",cmbTecnico);jForm.append("rDesempenhotime",document.querySelector('input[name="rDesempenhotime"]:checked').value);jForm.append("rComprarnovojogador",document.querySelector('input[name="rComprarnovojogador"]:checked').value);var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
jQuery.ajax({url:'http://localhost/sistemaRest/api/v1/time/index.php?a=3'+consulta,type:'POST',data:jForm,dataType:'json',mimeType:'application/json',contentType:!1,cache:!1,processData:!1}).always(function(returndata){limpacamposCadastro();alert(returndata.mensagem);location.reload()});return !1}
static atualizarJsPuro(form){var codigo=document.getElementById("codigo").value;if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
var jForm=new FormData();var e=document.getElementById("cmbDivisao");var cmbDivisao=e.options[e.selectedIndex].value;var e=document.getElementById("cmbCategoria");var cmbCategoria=e.options[e.selectedIndex].value;var e=document.getElementById("cmbTecnico");var cmbTecnico=e.options[e.selectedIndex].value;jForm.append("codigo",codigo);jForm.append("txtFoto",jQuery('#txtFoto').get(0).files[0]);jForm.append("txtNome",document.getElementById("txtNome").value);jForm.append("cmbDivisao",cmbDivisao);jForm.append("cmbCategoria",cmbCategoria);jForm.append("cmbTecnico",cmbTecnico);var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("POST","http://localhost/sistemaRest/api/v1/time/index.php?a=4"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","multipart/form-data");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){alert(123123);var json=JSON.parse(xhr.responseText);console.log(888);alert(json.mensagem)}}
xhr.send(jForm)}}
static atualizar(form){var codigo=document.getElementById("codigo").value;if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
var jForm=new FormData();var e=document.getElementById("cmbDivisao");var cmbDivisao=e.options[e.selectedIndex].value;var e=document.getElementById("cmbCategoria");var cmbCategoria=e.options[e.selectedIndex].value;var e=document.getElementById("cmbTecnico");var cmbTecnico=e.options[e.selectedIndex].value;jForm.append("codigo",codigo);jForm.append("txtFoto",jQuery('#txtFoto').get(0).files[0]);jForm.append("txtNome",document.getElementById("txtNome").value);jForm.append("cmbDivisao",cmbDivisao);jForm.append("cmbCategoria",cmbCategoria);jForm.append("cmbTecnico",cmbTecnico);var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
var jqxhr=jQuery.ajax({url:'http://localhost/sistemaRest/api/v1/time/index.php?a=4'+codigo+consulta,type:'POST',data:jForm,dataType:'json',mimeType:'application/json',contentType:!1,cache:!1,processData:!1});jqxhr.always(function(returndata){alert(returndata.mensagem)});jqxhr.fail(function(jqXHR,textStatus){alert("Falha ao atualizar time!")})}
static confirmar(codigo){var ok=window.confirm("Voce tem certeza que deseja excluir?");if(ok){var mensagem="";if(codigo==""){mensagem+="Código invalido"}else{codigo="&id="+codigo}
var token=Login.getCookie('token');var consulta="";if(token!==""){consulta="&tk="+token}
var xhr=Ajax.createXHR();if(mensagem===""&&xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/time/index.php?a=5"+codigo+consulta,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);alert(json.mensagem);location.reload()}}
xhr.send()}else{alert(mensagem)}}}
static listaTodosTimes(){var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/time/index.php",!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var len=0;if(json.times!=undefined){var len=json.times.length}
var strHTML='<table width="80%" class="lista">'+'<tr class="primeira_linha">'+'<td>C&oacute;digo</td>'+'<td>Nome</td>'+'<td>A&ccedil;&otilde;es</td>'+'</tr>';for(var i=0;i<len;i++){var codigo=json.times[i].codigo;var nome=json.times[i].nome;if(i%2===0){strHTML=strHTML+'<tr class="linha_par">'}else{strHTML=strHTML+'<tr class="linha_impar">'}
var detalhes="<a href=\"../consultas/detalhe.time.htm?codigo="+codigo+"\">[D]</a>";var alterar="<a href=\"../formularios/alterar.time.htm?codigo="+codigo+"\">[A]</a>";var excluir="<a href=\"javascript:Time.confirmar("+codigo+")\">[X]</a>";var acao=detalhes+alterar+excluir;strHTML=strHTML+"<td>"+codigo+"</td>"+"<td>"+nome+"</td>"+"<td>"+acao+"</td>"+"</tr>"}
strHTML=strHTML+"</table>";if(json.times==undefined&&json.mensagem!=undefined){strHTML="<p>"+json.mensagem+"</p>"}
document.getElementById("tabela").innerHTML=strHTML}}
xhr.send()}}
static listaNomePorCodigo(codigoParam){var xhr=Ajax.createXHR();if(xhr!=undefined){xhr.open("GET","http://localhost/sistemaRest/api/v1/time/index.php?a=1&id="+codigoParam,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var data=JSON.parse(xhr.responseText);document.getElementById("txtNome").value=data.nomeTime}}
xhr.send()}}
static carregaDivisao(codigo){var xhr=Ajax.createXHR();if(xhr!=undefined){if(codigo!=undefined){codigo="&id="+codigo}else{codigo=""}
xhr.open("GET","http://localhost/sistemaRest/api/v1/divisao/index.php?a=1"+codigo,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var len=json.divisaos.length;var temRegistro=!1;var strHTML='';for(var i=0;i<len;i++){var codigo=json.divisaos[i].codigo;var nome=json.divisaos[i].nome;if(json.divisaos[i].selected){strHTML=strHTML+"<option selected=\"true\" value=\""+codigo+"\">"+nome+"</option>"}else{strHTML=strHTML+"<option value=\""+codigo+"\">"+nome+"</option>"}
temRegistro=!0}
if(temRegistro==!1){strHTML="<option value=\"\">Nenhuma categoria cadastrada</option>"}
document.getElementById("cmbDivisao").innerHTML=strHTML}}
xhr.send()}}
static carregaCategoria(codigo){var xhr=Ajax.createXHR();if(xhr!=undefined){if(codigo!=undefined){codigo="&id="+codigo}else{codigo=""}
xhr.open("GET","http://localhost/sistemaRest/api/v1/categoria/index.php?a=1"+codigo,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var len=json.categorias.length;var temRegistro=!1;var strHTML='';for(var i=0;i<len;i++){var codigo=json.categorias[i].codigo;var nome=json.categorias[i].nome;if(json.categorias[i].selected){strHTML=strHTML+"<option selected=\"true\" value=\""+codigo+"\">"+nome+"</option>"}else{strHTML=strHTML+"<option value=\""+codigo+"\">"+nome+"</option>"}
temRegistro=!0}
if(temRegistro===!1){strHTML="<option value=\"\">Nenhuma categoria cadastrada</option>"}
document.getElementById("cmbCategoria").innerHTML=strHTML}}
xhr.send()}}
static carregaTecnico(codigo){var xhr=Ajax.createXHR();if(xhr!=undefined){if(codigo!=undefined){codigo="&id="+codigo}else{codigo=""}
xhr.open("GET","http://localhost/sistemaRest/api/v1/tecnico/index.php?a=1"+codigo,!0);xhr.setRequestHeader("Content-Type","application/json;charset=UTF-8");xhr.onreadystatechange=function(){if(xhr.readyState=='4'){var json=JSON.parse(xhr.responseText);var len=json.tecnicos.length;var temRegistro=!1;var strHTML='';for(var i=0;i<len;i++){var codigo=json.tecnicos[i].codigo;var nome=json.tecnicos[i].nome;if(json.tecnicos[i].selected){strHTML=strHTML+"<option selected=\"true\" value=\""+codigo+"\">"+nome+"</option>"}else{strHTML=strHTML+"<option value=\""+codigo+"\">"+nome+"</option>"}
temRegistro=!0}
if(temRegistro===!1){strHTML="<option value=\"\">Nenhuma tecnico cadastrado</option>"}
document.getElementById("cmbTecnico").innerHTML=strHTML}}
xhr.send()}}
static tudoParaDestino(){var select=document.getElementById("origem");var tamanho=select.options.length;var dhtml="";var valor="";var texto="";for(i=0;i<tamanho;i++){valor=select.options[i].value;texto=select.options[i].text;dhtml=dhtml+"\n<option value=\""+valor+"\">"+texto+"</option>"}
document.getElementById("destino").innerHTML=dhtml}
static selecionadoParaDestino(){var select=document.getElementById("origem");var tamanho=select.options.length;var valor="";var texto="";var dhtml="";for(i=0;i<tamanho;i++){if(select.options[i].selected===!0){valor=select.options[i].value;texto=select.options[i].text;dhtml=dhtml+"\n<option value=\""+valor+"\">"+texto+"</option>"}}
document.getElementById("destino").innerHTML=dhtml}
static limpaDestino(){document.getElementById("destino").innerHTML=""}
static limpaSelecionadosDestino(){var select=document.getElementById("destino");var tamanho=select.options.length;var dhtml="";var valor="";var texto="";for(i=0;i<tamanho;i++){if(select.options[i].selected!==!0){valor=select.options[i].value;texto=select.options[i].text;dhtml=dhtml+"\n<option value=\""+valor+"\">"+texto+"</option>"}}
document.getElementById("destino").innerHTML=dhtml}}