<!DOCTYPE html> 
<html lang="pt-br">
	<head>
            <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
            <title>Cat&aacute;logo de Jogos</title>
            <link rel="stylesheet" type="text/css" href="../../css/layoutadm.css" />
            <script language="javascript" type="text/javascript" src="../../javascript/jquery-2.1.4.min.js"></script>
    <script language="javascript" type="text/javascript" src="../../javascript/valida_login.js"></script>
        <script language="javascript" type="text/javascript" src="../../javascript/time.js"></script>
            
            <script type="text/javascript">
            $(document).ready(function() {
                location.queryString = {};
                location.search.substr(1).split("&").forEach(function (pair) {
                    if (pair === "") return;
                    var parts = pair.split("=");
                    location.queryString[parts[0]] = parts[1] &&
                        decodeURIComponent(parts[1].replace(/\+/g, " "));
                });

                $.ajax({
                    type: 'GET',
                    contentType: 'application/json',
                    dataType: "json",
                    url: 'http://localhost/sistemaRest/api/v1/time/index.php?a=1&id='+location.queryString.codigo,
                    beforeSend: function(){
                      $("#codigo").html("<br /><b>Carregando...</b>");
                      $("#txtNomeTime").html("<br /><b>Carregando...</b>");
                      $("#txtNomeDivisao").html("<br /><b>Carregando...</b>");
                      $("#txtNomeTecnico").html("<br /><b>Carregando...</b>");
                      $("#txtNomeCategoria").html("<br /><b>Carregando...</b>");
                      $("#txtDesempenhoTime").html("<br /><b>Carregando...</b>");
                      $("#txtComprarNovoJogador").html("<br /><b>Carregando...</b>");
                    },
                    success: function(data) {
                      $("#codigo").val(data.codigotime);
                      $("#txtNomeTime").val(data.nomeTime);
                      $("#txtNomeDivisao").val(data.nomeDivisao);
                      $("#txtNomeTecnico").val(data.nomeTecnico);
                      $("#txtNomeCategoria").val(data.nomeCategoria);
                      $("#txtDesempenhoTime").val(data.nomeDesempenhoTime);
                      $("#txtComprarNovoJogador").val(data.NomeComprarNovoJogador);
                    },
                    error: function(jqXHR, textStatus, errorThrown){
                      $("#codigo").html("<br /><b>Falha ao carregar time!</b>");
                      $("#txtNomeTime").html("<br /><b>Falha ao carregar time!</b>");
                      $("#txtNomeDivisao").html("<br /><b>Falha ao carregar time!</b>");
                      $("#txtNomeTecnico").html("<br /><b>Falha ao carregar time!</b>");
                      $("#txtNomeCategoria").html("<br /><b>Falha ao carregar time!</b>");
                      $("#txtDesempenhoTime").html("<br /><b>Falha ao carregar time!</b>");
                      $("#txtComprarNovoJogador").html("<br /><b>Falha ao carregar time!</b>");
                    }
                });
            });
            </script>
	</head>
	
	<body>
		<div id="geral">
			<div id="cabecalho">
			</div>
			
      <header>
          <nav id="menu_superior">
              <a href="../paginas/home.php">Home</a> ::
              <a href="../paginas/cadastros.php">Cadastros</a> ::
              <a href="../paginas/consultas.php">Consultas</a> ::
              <a href="../formularios/logout.php">Sair</a>
          </nav>
      </header>
			
			<div id="conteudo" class="form">
                            <h2 class="titulo">Detalhe de Time</h2>
                            <label for="codigo">Codigo:</label> <input type="text" readonly id="codigo" class="readonly" />
                            <br />
                            <label for="txtNomeTime">Nome:</label> <input type="text" readonly id="txtNomeTime" class="readonly" />
                            <br />
                            <label for="txtNomeDivisao">Divis√£o:</label> <input type="text" readonly id="txtNomeDivisao" class="readonly" />
                            <br />
                            <label for="txtNomeTecnico">Tecnico:</label> <input type="text" readonly id="txtNomeTecnico" class="readonly" />
                            <br />
                            <label for="txtNomeCategoria">Categoria:</label> <input type="text" readonly id="txtNomeCategoria" class="readonly" />
                            <br />
                            <label for="txtDesempenhoTime">Desempenho Time:</label> <input type="text" readonly id="txtDesempenhoTime" class="readonly" />
                            <br />
                            <label for="txtComprarNovoJogador">Comprar novo jogador:</label> <input type="text" readonly id="txtComprarNovoJogador" class="readonly" />
			</div>
			
			<footer id="rodape">
      </footer>

		</div>
	</body>
</html>
